<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<f:view>

	<h:head>

	</h:head>

	<h:body>

		<h:form>

			<h:panelGrid>

				<p:dataTable paginator="true" paginatorPosition="bottom"
					value="#{userBean.listarUsuarios}" var="usuario" id="tablaPaginada" rows="15" style="text-align:center;" >

					<p:column sortBy="#{usuario.id}" style="width: 150px;">
						<f:facet name="header">
							<h:outputText value="Id" />
						</f:facet>
						<h:outputText value="#{usuario.id}" />
					</p:column>

					<p:column sortBy="#{usuario.userName}">
						<f:facet name="header">
							<h:outputText value="User Name" />
						</f:facet>
						<h:outputText value="#{usuario.userName}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="E-mail" />
						</f:facet>
						<h:outputText value="#{usuario.emailAddress}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Cambió de contraseña el" />
						</f:facet>
						<h:outputText value="#{usuario.dateLastPassword}" />
					</p:column>

					<p:column style="width: 200px;">
						<f:facet name="header">
							<h:outputText value="Tipo de usuario" />
						</f:facet>
						<h:outputText value="Admin" rendered="#{'A' eq usuario.userType}" />
						<h:outputText value="Normal" rendered="#{'N' eq usuario.userType}" />
						<h:outputText value="Funcional"
							rendered="#{'F' eq usuario.userType}" />
					</p:column>

					<p:column style="width: 150px;">
						<f:facet name="header">
							<h:outputText value="Estado" />
						</f:facet>
						<h:outputText value="Activo" rendered="#{'A' eq usuario.active}" />
						<h:outputText value="Inactivo" rendered="#{'I' eq usuario.active}" />
					</p:column>

					<p:column style="width:120px">
						<f:facet name="header">
							<h:outputText value="Modificar" />
						</f:facet>
						<h:form>
							<p:commandButton id="boton_edit" icon="fa fa-fw fa-edit"
								action="#{userBean.prepararModificarUsuario}" style="width:100px;"/>
							<p:tooltip id="toolTip_boton_edit" for="boton_edit"
								value="Editar" position="top" />
						</h:form>
					</p:column>

					<p:column style="width:120px">

						<f:facet name="header">
							<h:outputText value="Inactivar" />
						</f:facet>


							<p:commandButton id="boton_remove" icon="fa fa-fw fa-unlink"
								actionListener="#{userBean.inactivarUsuario()}"  style="width:100px;"/>
							<p:tooltip id="toolTip_boton_remove" for="boton_remove"
								value="Inactivar" position="top" />

					</p:column>

				</p:dataTable>

				<h:form>
					<p:commandButton id="boton_add" icon="fa fa-fw fa-plus"
						action="#{userBean.prepararAdicionarUsuario}" style="width:100px;"/>
					<p:tooltip id="toolTip_boton_add" for="boton_add" value="Agregar"
						position="top" />
				</h:form>

			</h:panelGrid>

		</h:form>
	</h:body>

</f:view>

</html>